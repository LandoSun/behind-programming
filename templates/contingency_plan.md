应急预案模版
====================

背景
------

XXXX年XX月XX日XX:XX-XX:XX，将进行XX重大活动。为确保活动期间一切顺利，特制定本应急预案，并进行演习。

XX月XX日冲刺工作CHECKLIST
--------------------------------------------

> 注：此CHECKLIST应针对数个关键时间节点列出，如活动前一周、活动前最后一个工作日、活动当天开始前等。

### 预备变更

| 事项 | 方式 |目的 | 影响  | 负责人 | 知会人 | 结果记录 |
| -- | -- | -- | -- | -- | -- | -- |
| 变更的具体内容 | 如：发版本、改配置等 | 希望达成的正面目的 | 可能带来的负面损失与影响 | 负责变更的人员 | 变更前后需要知会的人员 | 变更的结果：成功、失败、挂起、修改方案等|

### 核验确保

| 事项 | 方式 | 目的 | 例外  |  负责人 | 知会人 | 结果记录 |
| -- | -- | -- | -- | -- | -- | -- |
| 核验的具体内容 | 如：核对脚本、观察监控等 | 希望达成的正面目的 | 该应确保项的例外，及例外的合理性与影响分析 |  负责核验的人员 | 核验前后需要知会的人员 | 核验的结果：符合预期、不符合预期、调整方案等|


预判瓶颈
-------------

> 注：以下瓶颈预判按照预判可能的触发先后顺序排列

| 模块 | 模块类型 | 瓶颈类型 | 瓶颈依据 | 瓶颈量级 | 预计影响 | 
| -- | -- | -- | -- | -- | -- | -- |
| 模块名称 | 如：接入层、路由层、逻辑层、缓存层、存储层、外部依赖层等 | 如：流量瓶颈、CPU瓶颈、内存瓶颈、磁盘容量等 | 简要给出瓶颈依据，如：单机瓶颈（某日压测/生产环境峰值） * 设备数 | 将瓶颈换算成某个业务指标，比如请求量 |触及瓶颈后的可能后果 |


预案概述
----------

### 预案动作原则

每个预案必须可第一时间无脑执行的动作。

+ 目的：
    * 避免当场误判、判断出现分歧
    * 避免当场判断花费过多时间，第一时间采取措施尝试恢复
+ 落实：
    * 粗粒度的场景，即只有大致现象，给出可第一时间按图索骥的观察分析指引，迅速判断问题成因与分布；可选增加一个一定程度上有损的默认大动作，在超过一定时限仍未确认问题成因与分布，则执行，如休克疗法等；
    * 细粒度的场景，即问题的成因与分布已经清晰，给出可第一时间执行的修复/切换措施
    * 部分重度灾难场景，只能等待灾难结束才能恢复业务的，也应该给出相对应的知会/推动动作，包括相关人员与话术

### 默认触发条件

* 业务量级达到预判瓶颈的XX%；
* 人为通过监控、告警判断出系统出现健康度问题；
* 部分预案设定一个最晚时间，达到该最晚时间，该预案即被触发。


瓶颈预案详情
--------------

> 注：以下预案按最晚执行时间排序

| 触发条件 | 预案项 | 操作指引 | 最晚执行时间 | 负责人 | 知会人 | 结果记录 |
| -- | -- | -- | -- | -- | -- | -- |
| 除默认触发条件外的触发条件，或默认触发条件对应的瓶颈项 | 预案的关键梗概 | 如发管理指令、修改配置、核对脚本、观察监控等的具体操作指引 | 达到该最晚时间，如无问题，该预案措施均执行 |  负责预案的人员 | 预案操作前后需要知会的人员 | 预案的结果记录 |


灾难预案详情
--------------------


| 触发条件 | 预案项 | 操作指引 | 负责人 | 知会人 | 结果记录 |
| -- | -- | -- | -- | -- | -- | -- |
| 灾难场景 | 预案的关键梗概 | 如发管理指令、修改配置、核对脚本、观察监控等的具体操作指引 | 负责预案的人员 | 预案操作前后需要知会的人员 | 预案的结果记录 |


预案演习计划
----------------------

* XX月XX日，第X次演习，演习XXXX部分

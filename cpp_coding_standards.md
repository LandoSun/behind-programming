C++编码规范 （征求意见稿）
=========================

目的
--------

本规范尝试：

* 博采众家C++编程规范之长，将其中对一个团队的编程水平和质量影响最大的规范，形成一个适度的最小集，并以文字重新表述出来
* 将一些未被采选但依然有益的规则（主要是仅针对不常用的语言特性或库的），以综述类规则的形式索引起来备用

意在确定一个具备如下优势的C++编程规范：

* 学习成本低（太多的规则给人过大的心智负担，以至于直接泡汤）
* 易于达成共识（不会浪费太多时间在争论上，最多弃用其中几条，或采取规则的变种）
* 便于施行（很容易在代码检视制度中贯彻，或采用静态代码检查工具扫描、强制）

但本编程规范是带有强烈个人理念的、有态度的编程规范，无意适应、取悦众口。

体例结构
--------

本编程规范的编辑体例与组织结构，基本与C++之父Bjarne Stroustrup最新尚在Github上协作撰写的、面向C++1z的《C++ Core Guidelines》一致，从其他编程规范中，也吸取了部分元素。

编程规范由许多条编程规则组成，相关联的规则，

* 规则标题（Rule）：言简意赅的规则描述，采用格言文风。其表述只需让初读者能猜出大致与什么相关，以及让已阅者朗朗上口，易于回想其含义即可。
* 规则阐述（Elaboration）：对规则的含义进行一定的展开描述。一般是先阐述规则的内涵，再通过列表的形式来展开规则的外延。
* 编号（Reference Number）：为了方便在代码review中引用。暂未确定具体方案，宜采用字母缩写与数字序号相结合的方式。
* 因由(Reasons/Rationales)：解释这样做的好处、不这样做的坏处，以及该规则为什么可以入选这个“最小集”。自由桀骜的程序员不会服从权威的规定，但愿意遵循合理的游戏规则。
* 样例(Examples)：包括正面和反面的例子，可以适度包括对其后果的演示。抽象的描述是难以让人理解领会的。
* 备选方案（Alternatives）：适用于禁令式的规则，给人一条出路。被禁止的做法原来想解决的问题，总得有个被鼓励/允许的做法来解决。演示怎样做才能规避被禁止的做法的弊端，而不引入新的弊端。
* 例外（Exceptions）：规则往往有例外，如果不将有限的、可以接受的例外纳入规则，规则就会被无穷的、不可接受的例外所吞噬。
* 贯彻手段(Enforcement)：如何机械式地在代码自查/检视中发现这些问题？如何使用自动化工具（如静态代码检查工具扫描、强制）？
* 参考（See alsos）：参考相关的规则。
* 探讨（discussion）：先贤及其他编程规范，对该规则的阐述与讨论，包括一些反对该规则的理由。

反对《Google C++ Style Guide》的“Definition/Pros/Cons/Decision”的体例，更像一份探讨而不是规范，留下了很多模糊的空间，没有保持逻辑的自洽，更像一个折衷产物和半成品。《LLVM Coding Standards》的体例更像散文。《C++ Coding Standards》的“Item title/Summary/Examples/Exceptions/References”不够完备。

理念：编程规范的编辑体例，应该像GoF在著名的《设计模式》中一样，构筑自洽完备的表述结构，就像代码的组织要遵循良好的结构一样。

原则
--------

### 一致性

### 向下兼容性

### 名正言顺

### 详略得当

代码格式化标准
----------------

* 行宽
* 缩进
* 注释

应提供工具在每次commit前自动格式化

方法体代码组织
----------------

类组织
----------------

* 尽一切可能避免继承，优先使用组合
* 

if-else
----------------

语言特性使用
------------------

标准库与第三方库使用
------------------

参考文献
-----------

* [Google C++ Style Guide](http://google.github.io/styleguide/cppguide.html)
* [LLVM Coding Standards](http://llvm.org/docs/CodingStandards.html)
* [C++ Coding Standards](http://www.gotw.ca/publications/c++cs.htm)
* [C++ Core Guidelines](https://github.com/isocpp/CppCoreGuidelines/blob/master/CppCoreGuidelines.md)
* [NuPIC C++ Coding Guide](https://github.com/numenta/nupic/wiki/C-Coding-Guide)
